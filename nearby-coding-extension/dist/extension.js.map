{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://nearby-coding-extension/external commonjs \"vscode\"","webpack://nearby-coding-extension/./src/extension.ts","webpack://nearby-coding-extension/webpack/bootstrap","webpack://nearby-coding-extension/webpack/startup"],"sourcesContent":["module.exports = require(\"vscode\");","import * as vscode from 'vscode';\r\n\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  message: string;\r\n  avatar: string;\r\n  lastSeen: number;\r\n}\r\n\r\nexport class NearbyCodingViewProvider implements vscode.WebviewViewProvider {\r\n  public static readonly viewType = 'nearbyCoding.plaza';\r\n  \r\n  private _view?: vscode.WebviewView;\r\n  private _context: vscode.ExtensionContext;\r\n  private _userId: string;\r\n  private _postInterval?: any;\r\n  private _getInterval?: any;\r\n  private _disposed = false;\r\n  private _lastSeenUsers = new Map<string, number>(); // „É¶„Éº„Ç∂„ÉºID„Å®ÊúÄÂæå„Å´Ë¶ã„ÅüÊôÇÂàª„ÇíË®òÈå≤\r\n\r\n  constructor(private readonly _extensionContext: vscode.ExtensionContext) {\r\n    this._context = _extensionContext;\r\n    \r\n    // „É¶„Éº„Ç∂„ÉºID„ÇíÂèñÂæó„Åæ„Åü„ÅØÁîüÊàê\r\n    this._userId = this._context.globalState.get('nearbyCoding.userId') || this._generateUserId();\r\n    this._context.globalState.update('nearbyCoding.userId', this._userId);\r\n  }\r\n\r\n  private _generateUserId(): string {\r\n    return 'user-' + Math.random().toString(36).substr(2, 9) + '-' + Date.now().toString(36);\r\n  }\r\n\r\n  public resolveWebviewView(\r\n    webviewView: vscode.WebviewView,\r\n    context: vscode.WebviewViewResolveContext,\r\n    token: vscode.CancellationToken\r\n  ) {\r\n    this._view = webviewView;\r\n\r\n    webviewView.webview.options = {\r\n      enableScripts: true,\r\n      localResourceRoots: [this._extensionContext.extensionUri]\r\n    };\r\n\r\n    webviewView.webview.html = this._getHtmlForWebview(webviewView.webview);\r\n    \r\n    // Ë®≠ÂÆöÂ§âÊõ¥ÊôÇ„ÅÆÂá¶ÁêÜ\r\n    this._context.subscriptions.push(\r\n      vscode.workspace.onDidChangeConfiguration(e => {\r\n        if (e.affectsConfiguration('nearbyCoding')) {\r\n          // Ë®≠ÂÆöÂ§âÊõ¥ÊôÇ„ÅØÂç≥Â∫ß„Å´Webview„ÇíÊõ¥Êñ∞„Åó„Å¶„Åã„Çâ„É´„Éº„Éó„ÇíÂÜçÈñã\r\n          this._updateWebviewWithCurrentConfig();\r\n          this._restartLoops();\r\n        }\r\n      })\r\n    );\r\n\r\n    // „Éì„É•„Éº„ÅåË°®Á§∫„Åï„Çå„Åü„ÇâÂàùÊúüË®≠ÂÆö„ÇíÂèçÊò†„Åó„Å¶„Åã„ÇâÈñãÂßã\r\n    this._updateWebviewWithCurrentConfig();\r\n    this._startLoops();\r\n\r\n    // Webview„ÅåÁ†¥Ê£Ñ„Åï„Çå„ÇãÊôÇ„ÅÆ„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó\r\n    webviewView.onDidDispose(() => {\r\n      this._stopLoops();\r\n    });\r\n  }\r\n\r\n  private _getHtmlForWebview(webview: vscode.Webview): string {\r\n    return `<!DOCTYPE html>\r\n<html lang=\"ja\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Nearby Coding</title>\r\n    <style>\r\n        body {\r\n            margin: 0;\r\n            padding: 0;\r\n            background-color: #141414;\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            height: 100vh;\r\n            overflow: hidden;\r\n            position: relative;\r\n        }\r\n        \r\n        .plaza {\r\n            width: 100%;\r\n            height: 100vh;\r\n            position: relative;\r\n            background: linear-gradient(180deg, #141414 0%, #1e1e1e 100%);\r\n        }\r\n        \r\n        .self-avatar {\r\n            position: absolute;\r\n            bottom: 20px;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            font-size: 2em;\r\n            z-index: 100;\r\n        }\r\n        \r\n        .visitor {\r\n            position: absolute;\r\n            right: -100px;\r\n            top: 20%;\r\n            animation: slideIn 1s ease-in-out forwards;\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 10px;\r\n            z-index: 50;\r\n        }\r\n        \r\n        .visitor.leaving {\r\n            animation: slideOut 1s ease-in-out forwards;\r\n        }\r\n        \r\n        .avatar {\r\n            font-size: 1.5em;\r\n        }\r\n        \r\n        .message-bubble {\r\n            background-color: white;\r\n            color: #333;\r\n            padding: 8px 12px;\r\n            border-radius: 15px;\r\n            font-size: 12px;\r\n            white-space: nowrap;\r\n            box-shadow: 0 2px 8px rgba(0,0,0,0.3);\r\n            max-width: 150px;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n        }\r\n        \r\n        @keyframes slideIn {\r\n            0% { \r\n                right: -200px; \r\n                opacity: 0;\r\n                transform: translateY(20px);\r\n            }\r\n            50% { \r\n                right: 20px; \r\n                opacity: 1;\r\n                transform: translateY(0);\r\n            }\r\n            100% { \r\n                right: 30px; \r\n                opacity: 1;\r\n            }\r\n        }\r\n        \r\n        @keyframes slideOut {\r\n            0% { \r\n                right: 30px; \r\n                opacity: 1;\r\n            }\r\n            100% { \r\n                right: -200px; \r\n                opacity: 0;\r\n                transform: translateY(-20px);\r\n            }\r\n        }\r\n        \r\n        .lane {\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 60px;\r\n            background-color: rgba(30, 30, 30, 0.3);\r\n            border-radius: 8px;\r\n        }\r\n        \r\n        .lane:nth-child(1) { top: 15%; }\r\n        .lane:nth-child(2) { top: 35%; }\r\n        .lane:nth-child(3) { top: 55%; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"plaza\">\r\n        <div class=\"lane\"></div>\r\n        <div class=\"lane\"></div>\r\n        <div class=\"lane\"></div>\r\n        \r\n        <div class=\"self-avatar\" id=\"selfAvatar\">üßë‚Äçüíª</div>\r\n    </div>\r\n\r\n    <script>\r\n        function escapeHtml(unsafe) {\r\n            return unsafe\r\n                .replace(/&/g, \"&amp;\")\r\n                .replace(/</g, \"&lt;\")\r\n                .replace(/>/g, \"&gt;\")\r\n                .replace(/\"/g, \"&quot;\")\r\n                .replace(/'/g, \"&#039;\");\r\n        }\r\n        \r\n        let activeVisitors = new Set();\r\n        let lastSeenUsers = new Map();\r\n        \r\n        function showVisitor(user) {\r\n            // Êó¢„Å´Ë°®Á§∫‰∏≠„ÅÆÂ†¥Âêà„ÅØ„Çπ„Ç≠„ÉÉ„Éó\r\n            if (activeVisitors.has(user.id)) {\r\n                return;\r\n            }\r\n            \r\n            const visitor = document.createElement('div');\r\n            visitor.className = 'visitor';\r\n            visitor.id = 'visitor-' + user.id;\r\n            \r\n            // „É©„É≥„ÉÄ„É†„Å™È´ò„Åï„Å´ÈÖçÁΩÆ\r\n            const topPercent = 10 + Math.random() * 60;\r\n            visitor.style.top = topPercent + '%';\r\n            \r\n            visitor.innerHTML = \\`\r\n                <div class=\"message-bubble\">\r\n                    <strong>\\${escapeHtml(user.name)}:</strong> \\${escapeHtml(user.message)}\r\n                </div>\r\n                <div class=\"avatar\">\\${escapeHtml(user.avatar)}</div>\r\n            \\`;\r\n            \r\n            document.querySelector('.plaza').appendChild(visitor);\r\n            activeVisitors.add(user.id);\r\n            \r\n            // 5-7ÁßíÂæå„Å´ÈÄÄÂ†¥\r\n            const exitTime = 5000 + Math.random() * 2000;\r\n            setTimeout(() => {\r\n                if (document.getElementById('visitor-' + user.id)) {\r\n                    visitor.classList.add('leaving');\r\n                    setTimeout(() => {\r\n                        if (visitor.parentNode) {\r\n                            visitor.parentNode.removeChild(visitor);\r\n                        }\r\n                        activeVisitors.delete(user.id);\r\n                    }, 1000);\r\n                }\r\n            }, exitTime);\r\n        }\r\n        \r\n        // VSCode„Åã„Çâ„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó‰ø°\r\n        window.addEventListener('message', event => {\r\n            const message = event.data;\r\n            \r\n            switch (message.command) {\r\n                case 'updateUsers':\r\n                    // Ëá™ÂàÜ„ÅÆ„Ç¢„Éê„Çø„Éº„ÇíÊõ¥Êñ∞\r\n                    if (message.selfAvatar) {\r\n                        document.getElementById('selfAvatar').textContent = message.selfAvatar;\r\n                    }\r\n                    \r\n                    // Êñ∞Ë¶è„É¶„Éº„Ç∂„Éº„Åæ„Åü„ÅØÂÜçÂèÇÂä†„É¶„Éº„Ç∂„Éº„ÅÆ„Åø„ÇíÊå®Êã∂Ë°®Á§∫\r\n                    if (message.newUsers && message.newUsers.length > 0) {\r\n                        message.newUsers.forEach(user => {\r\n                            if (user.id !== message.selfId && !activeVisitors.has(user.id)) {\r\n                                showVisitor(user);\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html>`;\r\n  }\r\n\r\n  private _getConfiguration() {\r\n    const config = vscode.workspace.getConfiguration('nearbyCoding');\r\n    let serverUrl = config.get<string>('serverUrl', 'https://nearby-coding-server-i3mbz1w0s-fujii-yoshinobus-projects.vercel.app');\r\n    \r\n    // serverUrl „Åå /api/nearby „ÅßÁµÇ„Çè„Å£„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÅØËøΩÂä†\r\n    if (!serverUrl.endsWith('/api/nearby')) {\r\n      serverUrl = serverUrl.replace(/\\/$/, '') + '/api/nearby';\r\n    }\r\n    \r\n    return {\r\n      serverUrl: serverUrl,\r\n      name: config.get<string>('name', 'Anonymous'),\r\n      message: config.get<string>('message', '„Çà„Çç„Åó„ÅèÔºÅ'),\r\n      avatar: config.get<string>('avatar', 'üßë‚Äçüíª')\r\n    };\r\n  }\r\n\r\n  private async _sendPing() {\r\n    if (this._disposed) return;\r\n    \r\n    const config = this._getConfiguration();\r\n    \r\n    try {\r\n      const response = await fetch(config.serverUrl, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          id: this._userId,\r\n          name: config.name,\r\n          message: config.message,\r\n          avatar: config.avatar\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.warn('Nearby Coding: Ping failed', response.status);\r\n      }\r\n    } catch (error) {\r\n      console.warn('Nearby Coding: Ping error', error);\r\n    }\r\n  }\r\n\r\n  private async _fetchUsers() {\r\n    if (this._disposed || !this._view) return;\r\n    \r\n    const config = this._getConfiguration();\r\n    \r\n    try {\r\n      const response = await fetch(config.serverUrl, {\r\n        method: 'GET'\r\n      });\r\n\r\n      if (response.ok) {\r\n        const users: User[] = await response.json();\r\n        \r\n        // Êñ∞Ë¶è„É¶„Éº„Ç∂„Éº„Åæ„Åü„ÅØÂÜçÂèÇÂä†„É¶„Éº„Ç∂„Éº„ÇíÊ§úÁü•\r\n        const newUsers: User[] = [];\r\n        const currentTime = Date.now();\r\n        \r\n        users.forEach(user => {\r\n          if (user.id !== this._userId) {\r\n            const lastSeen = this._lastSeenUsers.get(user.id) || 0;\r\n            // ÂàùÂõûÂèÇÂä†„ÄÅ„Åæ„Åü„ÅØ5ÂàÜ‰ª•‰∏äÁµåÈÅéÂæå„ÅÆÂÜçÂèÇÂä†\r\n            if (!lastSeen || (currentTime - lastSeen) > 300000) {\r\n              newUsers.push(user);\r\n            }\r\n            this._lastSeenUsers.set(user.id, currentTime);\r\n          }\r\n        });\r\n        \r\n        // Webview„Å´„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÇíÈÄÅ‰ø°\r\n        this._view.webview.postMessage({\r\n          command: 'updateUsers',\r\n          users: users,\r\n          newUsers: newUsers,\r\n          selfId: this._userId,\r\n          selfAvatar: config.avatar\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Nearby Coding: Fetch users error', error);\r\n    }\r\n  }\r\n\r\n  private _startLoops() {\r\n    this._stopLoops();\r\n    \r\n    // ÂàùÂõûping\r\n    this._sendPing();\r\n    \r\n    // 10Áßí„Åî„Å®„Å´POST\r\n    this._postInterval = setInterval(() => {\r\n      this._sendPing();\r\n    }, 10000);\r\n    \r\n    // 6Áßí„Åî„Å®„Å´GET\r\n    this._getInterval = setInterval(() => {\r\n      this._fetchUsers();\r\n    }, 6000);\r\n    \r\n    // ÂàùÂõûfetch\r\n    setTimeout(() => {\r\n      this._fetchUsers();\r\n    }, 1000);\r\n  }\r\n\r\n  private _stopLoops() {\r\n    if (this._postInterval) {\r\n      clearInterval(this._postInterval);\r\n      this._postInterval = undefined;\r\n    }\r\n    if (this._getInterval) {\r\n      clearInterval(this._getInterval);\r\n      this._getInterval = undefined;\r\n    }\r\n  }\r\n\r\n  private _updateWebviewWithCurrentConfig() {\r\n    if (!this._view) return;\r\n    \r\n    const config = this._getConfiguration();\r\n    \r\n    // Âç≥Â∫ß„Å´ÁèæÂú®„ÅÆË®≠ÂÆö„ÅßWebview„ÇíÊõ¥Êñ∞\r\n    this._view.webview.postMessage({\r\n      command: 'updateUsers',\r\n      users: [],\r\n      selfId: this._userId,\r\n      selfAvatar: config.avatar\r\n    });\r\n  }\r\n\r\n  private _restartLoops() {\r\n    this._stopLoops();\r\n    this._startLoops();\r\n  }\r\n\r\n  public dispose() {\r\n    this._disposed = true;\r\n    this._stopLoops();\r\n  }\r\n}\r\n\r\nexport function activate(context: vscode.ExtensionContext) {\r\n  const provider = new NearbyCodingViewProvider(context);\r\n  \r\n  context.subscriptions.push(\r\n    vscode.window.registerWebviewViewProvider(\r\n      NearbyCodingViewProvider.viewType, \r\n      provider,\r\n      { webviewOptions: { retainContextWhenHidden: true } }\r\n    )\r\n  );\r\n}\r\n\r\nexport function deactivate() {\r\n  // „ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó„ÅØËá™ÂãïÁöÑ„Å´Ë°å„Çè„Çå„Çã\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(733);\n"],"names":["module","exports","require","NearbyCodingViewProvider","constructor","_extensionContext","_disposed","_lastSeenUsers","Map","this","_context","_userId","globalState","get","_generateUserId","update","Math","random","toString","substr","Date","now","resolveWebviewView","webviewView","context","token","_view","webview","options","enableScripts","localResourceRoots","extensionUri","html","_getHtmlForWebview","subscriptions","push","vscode","workspace","onDidChangeConfiguration","e","affectsConfiguration","_updateWebviewWithCurrentConfig","_restartLoops","_startLoops","onDidDispose","_stopLoops","_getConfiguration","config","getConfiguration","serverUrl","endsWith","replace","name","message","avatar","_sendPing","response","fetch","method","headers","body","JSON","stringify","id","ok","console","warn","status","error","_fetchUsers","users","json","newUsers","currentTime","forEach","user","lastSeen","set","postMessage","command","selfId","selfAvatar","_postInterval","setInterval","_getInterval","setTimeout","clearInterval","undefined","dispose","viewType","provider","window","registerWebviewViewProvider","webviewOptions","retainContextWhenHidden","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}